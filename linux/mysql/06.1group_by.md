# Subqueries

## GROUP BY

GROUP BY nhóm một tập hợp các hàng với nhau theo các giá trị của cột hoặc biểu thức. GROUP BY trả về một hàng cho mỗi nhóm. Nói cách khác, nó làm giảm số lượng hàng trong tập kết quả

Cú pháp

    SELECT 
        c1, c2,..., cn, aggregate_function(ci)
    FROM
        table
    WHERE
        where_conditions
    GROUP BY c1 , c2,...,cn;

Mệnh đề GROUP BY phải xuất hiện sau mệnh đề FROM và WHERE. Theo sau các từ khóa GROUP BY là danh sách các cột hoặc biểu thức được phân tách bằng dấu phẩy mà bạn muốn sử dụng làm tiêu chí cho các hàng nhóm.

![Imgur](https://i.imgur.com/UvqsTZB.png)

Ví dụ:

## 1. GROUP BY đơn giản

Sử dụng bảng order

![Imgur](https://i.imgur.com/4M2k8Tw.png)

Ta muốn nhóm các giá trị của trạng thái đơn hàng (status) thành các nhóm con.

    SELECT status
    FROM 
        orders
    GROUP BY status;

![Imgur](https://i.imgur.com/30A0m2w.png)

a thấy GROUP BY trả về các trạng thái có trong bảng. Nó làm việc giống DISTINCT trong câu truy vấn sau:

SELECT DISTINCT
    status
FROM
    orders;

